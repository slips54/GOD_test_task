(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a4ce644"],{bf38:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"inputFrame",staticClass:"inputs_frame"},[e("div",{staticClass:"inputs_frame-title"},[t._v("Введите значения")]),t._l(t.params,(function(a,n){return e("div",{key:n,staticClass:"input_frame"},[e("label",{attrs:{for:a.name}},[t._v(t._s(a.name))]),e("input",{attrs:{type:"text",placeholder:a.name,name:a.name},on:{keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.dataCapture.apply(null,arguments)}}})])})),e("button",{on:{click:t.dataCapture}},[t._v("ok")])],2)},s=[],i=(e("159b"),{props:{params:{type:Array,required:!0}},methods:{dataCapture:function(){var t=this;this.$refs.inputFrame.getElementsByTagName("input").forEach((function(a,e){isNaN(a.value)||""===a.value||a.value<0?t.params[e].value=0:t.params[e].value=a.value})),this.$emit("paramChanged")}}}),r=i,o=e("2877"),c=Object(o["a"])(r,n,s,!1,null,null,null);a["a"]=c.exports},e67d:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pvp-stat_page div_100"},[e("div",{staticClass:"pvp-stat-container"},[e("h2",[t._v("PVP СТАТИСТИКА")]),e("div",{staticClass:"pvp-stat_canvas-wrapper"},[e("div",{staticClass:"pvp_stat-inputs"},[e("inputs-block",{attrs:{params:t.stats},on:{paramChanged:function(a){return t.redrawRating()}}})],1),e("canvas",{ref:"myCanvas",staticClass:"pvp-stat_pentagon div_100"}),t._l(t.param_positions.canvas_outer,(function(a,n){return e("div",{key:n,staticClass:"pvp-stat_param-item",class:"n"+n,style:{left:a[0]+"px",top:a[1]+"px"}},[e("div",{staticClass:"label"},[t._v(t._s(t.stats[n].name))]),e("div",{staticClass:"value"},[t._v(t._s(t.getPercent(t.stats[n]))+"%")])])})),e("div",{staticClass:"pvp-stat_canvas-wrapper_rating div_100"},[t._l(t.points_pos,(function(t,a){return e("div",{key:a,staticClass:"pvp-stat_param-point",class:"n"+a,style:{left:t[0]+"px",top:t[1]+"px"}})})),e("div",{staticClass:"pvp-stat_rating div_100"},[e("div",{staticClass:"title"},[t._v("РЕЙТИНГ")]),e("div",{staticClass:"value"},[t._v(t._s(t.ratingValue))]),e("div",{staticClass:"value_top"},[t._v("ТОП-"+t._s(t.topPercent)+"%")])])],2)],2)])])},s=[];function i(t){if(Array.isArray(t))return t}e("a4d3"),e("e01a"),e("d3b7"),e("d28b"),e("3ca3"),e("ddb0");function r(t,a){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,s,i=[],r=!0,o=!1;try{for(e=e.call(t);!(r=(n=e.next()).done);r=!0)if(i.push(n.value),a&&i.length===a)break}catch(c){o=!0,s=c}finally{try{r||null==e["return"]||e["return"]()}finally{if(o)throw s}}return i}}var o=e("06c5");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,a){return i(t)||r(t,a)||Object(o["a"])(t,a)||c()}e("a9e3"),e("fb6a");var u=e("bf38"),p={components:{InputsBlock:u["a"]},data:function(){return{ctx:null,param_positions:{canvas_outer:[],rating_canvas:[],canvas_inner_border:[]},points_pos:[],stats:[{name:"Убийств",value:0,max:400},{name:"Помощь",value:0,max:100},{name:"Убийств в подкате",value:0,max:320},{name:"Убийств в голову",value:0,max:235},{name:"Смертей",value:0,max:375}]}},computed:{stats_count:function(){return this.stats.length},topPercent:function(){var t=this;return this.stats.reduce((function(a,e){var n=t.getPercent(e);return a<n?Number(n):a}),0)},ratingValue:function(){var t=this,a=this.stats.reduce((function(a,e){var n=t.getPercent(e);return a+n}),0)/this.stats_count;return Math.round(10*a)}},mounted:function(){setTimeout((function(){window.scrollTo({top:0,behavior:"smooth"})}),0);var t=this.$refs.myCanvas,a=t;this.drawPentagon(t,2,"canvas_outer",{strokeStyle:"#A8A8A8",lineWidth:10}),this.drawPentagon(t,2.3,"canvas_inner_border",{strokeStyle:"transparent",lineWidth:1}),this.drawPentagon(a,3.5,"rating_canvas",{strokeStyle:"rgba(168, 168, 168, 0.3)",lineWidth:1})},methods:{drawPentagon:function(t,a,e,n){null===this.ctx&&(this.ctx=t.getContext("2d"),t.width=t.clientWidth,t.height=t.clientHeight);var s=this.stats_count,i=t.width/a,r=t.width/2,o=t.width/2+10,c=2*Math.PI/s,l=Math.PI/180*-18;this.ctx.lineCap="round",this.ctx.beginPath();for(var u=[],p=0;p<=s;p++){var v=p*c+l,h=r+i*Math.cos(v),d=o+i*Math.sin(v);s!==p&&u.push([h,d]),this.ctx.lineTo(h,d)}this.ctx.strokeStyle=n.strokeStyle,this.ctx.lineWidth=n.lineWidth,this.ctx.stroke(),this.ctx.closePath(),this.param_positions[e]=u.slice(),"rating_canvas"===e&&(this.points_pos=u.slice())},getPercent:function(t){return Math.min(Math.round(t.value/t.max*100),100)},redrawRating:function(){this.ctx.clearRect(0,0,500,500),this.drawPentagon(this.$refs.myCanvas,2,"canvas_outer",{strokeStyle:"#A8A8A8",lineWidth:10}),this.ctx.lineCap="round",this.ctx.beginPath();for(var t=0;t<=this.stats_count;t++){var a=t===this.stats_count?0:t,e=l(this.param_positions.rating_canvas[a],2),n=e[0],s=e[1],i=l(this.param_positions.canvas_inner_border[a],2),r=i[0],o=i[1],c=1-this.getPercent(this.stats[a])/100,u=(r-n)*c,p=(o-s)*c;n=r-u,s=o-p,this.points_pos[a]=[n,s].slice(),this.ctx.lineTo(n,s)}this.ctx.strokeStyle="rgba(168, 168, 168, 0.3)",this.ctx.lineWidth=1,this.ctx.stroke(),this.ctx.closePath()}}},v=p,h=e("2877"),d=Object(h["a"])(v,n,s,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-9a4ce644.39bfde6c.js.map